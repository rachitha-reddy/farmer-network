<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Farmer Network</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body {
      margin: 0;
      background: #f3f9f1;
      font-family: 'Poppins', Arial, sans-serif;
    }
    .site-header {
      background: #38a653;
      padding: 0;
    }
    .container.header-flex {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-left: 96px;   /* 1 inch gap on left */
      padding-right: 96px;  /* 1 inch gap on right for nav */
      max-width: 100vw;
    }
    .brand-left {
      display: flex;
      align-items: center;
    }
    .logo {
      width: 54px;
      height: 54px;
      border-radius: 12px;
      margin-right: 14px;
    }
    .brand-left h1 {
      font-size: 2em;
      color: #fff;
      font-weight: 700;
      margin: 0;
      letter-spacing: 1px;
    }
    .nav {
      display: flex;
      gap: 28px;
    }
    .nav a {
      font-weight: 700;
      font-size: 1.17em;
      color: #fff;
      text-decoration: none;
      transition: border-bottom 0.18s;
      padding: 24px 0;
    }
    .nav a:hover, .nav a.active {
      border-bottom: 3px solid #e3f1de;
      color: #e0faea;
    }
    /* Main grid and layout */
    .main-grid {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 78px;
      margin-top: 32px;
      min-height: 82vh;
    }
    .left-col {
      flex: none;
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 830px;
    }
    .centered-search-bar {
      display: flex;
      justify-content: center;
      width: 100%;
      margin-bottom: 25px;
    }
    .search-user-bar {
      width: 100%;
      max-width: 600px;
      position: relative;
    }
    #userSearchInput {
      width: 100%;
      padding: 16px 22px;
      font-size: 1.27em;
      border: 1.8px solid #127042;
      border-radius: 10px;
      outline: none;
      background: #fafefa;
      color: #1b3c21;
      box-sizing: border-box;
      margin:0 auto;
      display: block;
    }
    .sample-post {
      border: 2.5px solid #111;
      border-radius: 0px;
      padding: 54px 58px 44px 58px;
      background: #fff;
      margin-bottom: 38px;
      width: 100%;
      max-width: 800px;
      box-shadow: 0px 5px 20px rgba(0,0,0,0.08);
      position: relative;
    }
    .user-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }
    .avatar {
      width: 52px; height: 52px;
      border-radius: 50%;
      object-fit: cover;
      border: 2.5px solid #2f8f3a;
    }
    .username {
      font-weight: 700;
      font-size: 1.24em;
      color: #127042;
    }
    .image-carousel {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 18px;
    }
    .carousel-arrow {
      background: none;
      border: none;
      font-size: 2em;
      cursor: pointer;
      color: #156343;
      padding: 9px 14px;
      border-radius: 50%;
      transition: background 0.2s;
    }
    .carousel-arrow:active {
      background: #eafbe6;
    }
    .left-arrow { margin-right: 18px; }
    .right-arrow { margin-left: 18px; }
    #postImage {
      max-width: 600px;
      max-height: 400px;
      border-radius: 0px;
      border: 1.5px solid #dbe9d4;
      box-shadow: 0 4px 14px rgba(60,80,67,.11);
      background: #f8faf7;
      margin: 0 14px;
    }
    .action-bar {
      display: flex;
      align-items: center;
      gap: 14px;
      margin:18px 0 12px 0;
      font-size: 1.27em;
      color:#111;
      font-weight:500;
      user-select:none;
    }
    .action-btn {
      background: none;
      border: none;
      padding: 3px 11px 3px 1px;
      cursor: pointer;
      font-size: 1.27em;
      margin-right: 2px;
      vertical-align: middle;
    }
    .action-bar .like-count, .action-bar .comment-count {
      font-size:1.07em;
      font-weight:500;
      margin-left:4px;
      margin-right: 18px;
      vertical-align:middle;
    }
    .action-bar .comment-count { margin-left: 2px; }
    .action-bar .like-label, .action-bar .comment-label {
      margin-left: 1px;
      font-weight:500;
      font-size:1.09em;
      margin-right:2px;
      vertical-align:middle;
    }
    .right-col {
      flex: none;
      width: 440px;
      min-width: 300px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      margin-right: 60px; /* 3in - margin depends on grid gap */
    }
    .suggestions-widget {
      background: #fff;
      border: 1.5px solid #d1e8d4;
      border-radius: 0px;
      box-shadow: 0px 3px 10px rgba(41,86,53,0.07);
      padding: 38px 36px 28px 35px;
      margin-top: 6px;
      width: 100%;
      max-width: 440px;
      min-width: 350px;
    }
    .suggestions-widget h2 {
      margin-top: 0;
      font-size: 1.48em;
      color: #1a814c;
      border-bottom: 1px solid #e3e9e6;
      padding-bottom: 18px;
      margin-bottom: 22px;
      font-weight: 700;
    }
    .suggestions-widget ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .suggestions-widget li {
      padding: 15px 0;
      font-size: 1.22em;
      color: #28563e;
      border-bottom: 1px solid #f2f3ef;
      font-weight: 600;
    }
    .suggestions-widget li:last-child {
      border-bottom: none;
    }
    .search-suggestions-list {
      position: absolute;
      top: 52px;
      left: 0;
      width: 100%;
      background: #fff;
      border: 1px solid #cde4c1;
      border-top: none;
      z-index: 12;
      list-style: none;
      padding: 0;
      margin: 0;
      max-height: 170px;
      overflow-y: auto;
      border-radius: 0 0 8px 8px;
      box-shadow: 0 5px 16px rgba(41,86,53,0.09);
      display: none;
      font-size: 1.15em;
    }
    .search-suggestions-list li {
      padding: 14px 23px;
      cursor: pointer;
      color: #295f31;
    }
    .search-suggestions-list li:hover {
      background: #f0f9ed;
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-flex">
      <div class="brand-left">
        <img src="img.jpg" alt="Logo" class="logo" />
        <h1>Farmer Network</h1>
      </div>
      <nav class="nav">
        <a href="index.html" id="homeNav" class="active">Home</a>
        <a href="profile.html" id="profileNav">Profile</a>
        <a href="messages.html" id="messagesNav">Messages</a>
        <a href="weather.html" id="weatherNav">Weather</a>
        <a href="resources.html" id="ResourceNav">Resources</a>
        <a href="community.html" id="Community">Community</a>
        <a href="tips.html" id="tipsNav">Tips</a>
        <a href="Feedback.html" id="feedbackNav">Feedback</a>
        <a href="login.html" id="loginNav">Login</a>
      </nav>
    </div>
  </header>
  <div class="container main-grid">
    <div class="left-col">
      <div class="centered-search-bar">
        <div class="search-user-bar">
          <input
            type="text"
            id="userSearchInput"
            placeholder="Search users by username..."
            autocomplete="off"
          />
          <ul id="searchSuggestions" class="search-suggestions-list"></ul>
        </div>
      </div>
      <div class="sample-post">
        <div class="user-row">
          <img class="avatar" src="img4.jpeg" alt="User photo"/>
          <span class="username">nature_raj</span>
        </div>
        <div class="image-carousel">
          <button class="carousel-arrow left-arrow" id="prevImgBtn">&#8592;</button>
          <img 
            id="postImage"
            src="img3.jpeg" 
            alt="Post 1"
          />
          <button class="carousel-arrow right-arrow" id="nextImgBtn">&#8594;</button>
        </div>
        <div class="action-bar">
          <button class="action-btn" id="likeBtn" title="Like">
            <span id="likeIcon">ü§ç</span>
          </button>
          <span class="like-label">Like</span>
          <span class="like-count" id="likeCount">(10)</span>
          <button class="action-btn" id="commentBtn" title="Comment"><span>üí¨</span></button>
          <span class="comment-label">Comment</span>
          <span class="comment-count" id="commentCount">(4)</span>
        </div>
        <div class="post-footer-username">nature_raj</div>
        <div class="post-caption"><span class="caption-username">nature_raj</span> Exploring the beauty of the valley at dusk. Nature truly heals the soul!</div>
      </div>
    </div>
    <div class="right-col">
      <div class="suggestions-widget">
        <h2>Suggestions</h2>
        <ul id="suggestionsList">
          <li>@nature_raj</li>
          <li>@green_field</li>
          <li>@sunlover</li>
          <li>@travelbuddy</li>
          <li>@praveena_farmer</li>
        </ul>
      </div>
    </div>
  </div>
  <footer class="footer">
    <p>&copy; 2025 NovaTech | Helpline: +1234567890 | Email: support@novatech.com</p>
  </footer>
  <script>
    const API_BASE_URL = 'https://your-app.onrender.com/api';

// Example: Fetch posts and display
    async function loadPosts() {
    try {
        const res = await fetch(`${API_BASE_URL}/posts`);
        const data = await res.json();
        // replace sample post HTML with dynamic rendering using data.posts
    } catch (e) {
        console.error('Error loading posts', e);
    }
    }
    loadPosts();

    // Like and comment toggle logic
    let liked = false;
    let likeCount = 10;
    const likeBtn = document.getElementById('likeBtn');
    const likeIcon = document.getElementById('likeIcon');
    const likeCountSpan = document.getElementById('likeCount');
    likeBtn.onclick = function() {
      liked = !liked;
      likeIcon.textContent = liked ? "‚ù§Ô∏è" : "ü§ç";
      likeCountSpan.textContent = liked ? `(${likeCount+1})` : `(${likeCount})`;
    };
    // Carousel Logic
    const imageUrls = [
      "img3.jpeg",
      "img5.jpeg",
    ];
    let currentImgIndex = 0;
    const postImage = document.getElementById('postImage');
    const prevImgBtn = document.getElementById('prevImgBtn');
    const nextImgBtn = document.getElementById('nextImgBtn');
    function updateImage() {
      postImage.src = imageUrls[currentImgIndex];
    }
    prevImgBtn.onclick = function() {
      currentImgIndex = (currentImgIndex - 1 + imageUrls.length) % imageUrls.length;
      updateImage();
    };
    nextImgBtn.onclick = function() {
      currentImgIndex = (currentImgIndex + 1) % imageUrls.length;
      updateImage();
    };
    // Comment Modal logic
    const commentBtn = document.getElementById('commentBtn');
    const commentModal = document.getElementById('commentModal');
    const closeModalBtn = document.getElementById('closeModalBtn');
    commentBtn.onclick = function() {
      commentModal.style.display = 'flex';
    };
    closeModalBtn.onclick = function() {
      commentModal.style.display = 'none';
    };
    window.onclick = function(event) {
      if(event.target == commentModal) commentModal.style.display = 'none';
    }
    // User search bar logic
    const knownUsers = [
      "@nature_raj",
      "@green_field",
      "@sunlover",
      "@travelbuddy",
      "@praveena_farmer"
    ];
    const userSearchInput = document.getElementById('userSearchInput');
    const searchSuggestions = document.getElementById('searchSuggestions');
    userSearchInput.addEventListener('input', function() {
      const val = userSearchInput.value.trim().toLowerCase();
      searchSuggestions.innerHTML = '';
      if (val.length === 0) {
        searchSuggestions.style.display = 'none';
        return;
      }
      const matches = knownUsers.filter(username => username.toLowerCase().includes(val));
      if (matches.length === 0) {
        searchSuggestions.style.display = 'none';
        return;
      }
      matches.forEach(username => {
        const li = document.createElement('li');
        li.textContent = username;
        li.onclick = () => {
          userSearchInput.value = username;
          searchSuggestions.style.display = 'none';
        };
        searchSuggestions.appendChild(li);
      });
      searchSuggestions.style.display = 'block';
    });
    document.addEventListener('click', function(event) {
      if (!userSearchInput.contains(event.target)) {
        searchSuggestions.style.display = 'none';
      }
    });
  </script>
  <script src="https://cdn.botpress.cloud/webchat/v3.3/inject.js"></script>
<style>
  #webchat .bpWebchat {
    position: unset;
    width: 100%;
    height: 100%;
    max-height: 100%;
    max-width: 100%;
  }

  #webchat .bpFab {
    display: none;
  }
</style>

<!-- Put this on your page BEFORE the script below -->
<div id="webchat" style="width: 500px; height: 500px;"></div>

<!-- In your <body> tag -->
<script>
  window.botpress.on("webchat:ready", () => {
    window.botpress.open();
  });
  window.botpress.init({
  "botId": "f31f6881-59bb-434f-9346-8bc55b1e65a1",
  "configuration": {
    "version": "v2",
    "website": {},
    "email": {},
    "phone": {},
    "termsOfService": {},
    "privacyPolicy": {},
    "color": "#3276EA",
    "variant": "solid",
    "headerVariant": "glass",
    "themeMode": "light",
    "fontFamily": "inter",
    "radius": 4,
    "feedbackEnabled": false,
    "footer": "[‚ö° by Botpress](https://botpress.com/?from=webchat)",
    "soundEnabled": false,
    "proactiveMessageEnabled": false,
    "proactiveBubbleMessage": "Hi! üëã Need help?",
    "proactiveBubbleTriggerType": "afterDelay",
    "proactiveBubbleDelayTime": 10
  },
  "clientId": "112d80af-0364-4c56-9433-3254c293d1e4",
  "selector": "#webchat"
});
</script>
</body> 
</html>
    
